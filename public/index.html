<!DOCTYPE html>
<html>
  <head>
    <title>Online/Offline Equivalence: What our interplanetary tomorrow can teach us about building apps today</title>
    <meta charset="utf-8">
    <style>
      img {
        max-width: 100%;
        max-height: 100%;
      }
      a {
        color: #66AEE2;
      }
      .remark-slide-content {
        background-size: contain;
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
        font-size: calc(.85em + 3vw);
        padding: 1rem 4rem;
      }
      .remark-slide-content h1 {
        font-size: 2em;
      }
      .remark-slide-content h2 {
        font-size: 1.5em;
      }
      .remark-slide-content em {
        font-style: normal;
        color: #8dbd0c;
      }
      .remark-slide-number {
        font-size: 0.3em;
        display: none;
      }
      .cramped {
        letter-spacing: -0.13em;
      }
      .small {
        font-size: calc(.85em + 2.2vw);
      }
      @media screen {
        body, body.remark-container {
          background: black;
          color: white;
        }
        .remark-slide-content {
          background-color: black;
        }
        .remark-slide-scaler {
          -moz-box-shadow: none;
          -webkit-box-shadow: none;
          box-shadow: none;
        }
      }
    </style>
  </head>
  <body>
    <textarea id="source" style="display:none">

class: middle

# *Online/Offline Equivalence*

What our interplanetary tomorrow can teach us about building apps today

---

background-image: url(img/instantaneous-communication.png)

???

We live in a special time! Whole-species instantaneous communication is a short-lived phenomenon for a technological civilization of sufficient longevity.

---

# me

---

# Chad Ostrowski

---

background-image: url(img/YouAreHereInTheGalaxy.jpg)

???

I live in the Orion arm of the Milky Way galaxy

---

background-image: url(img/earth_pacific_lrg.jpg)
background-size: cover

???

more specifically, I live on a water planet called Earth

---

background-image: url(img/eastern-seaboard.jpg)
background-size: cover

???

I live in a city called Lancaster

---

background-image: url(img/entire.life:chadoh.png)

???

Here's what I've been up to for the past 14 years.

---

background-image: url(img/entire.life:chadoh-made-with.png)

???

You can make your own life chart on Entire.Life, which I built and maintain in my free time

---

background-image: url(img/entire.life:chadoh-made-with-decorated.png)

???

Get one! https://entire.life

---
background-image: url(img/citrusbyte.png)

???

During the day, I work at citrusbyte: innovate like a startup, even if you aren't one. We're hiring!

---

class: middle

* twitter.com/chadoh
* github.com/chadoh
* entire.life/chadoh
* medium.com/@chadoh

---

background-image: url(img/cosmic-algae.png)

???

Disclaimer: I am cosmic algae. I am not an expert, I am learning with you. Correct me if you notice mistakes!

Comic from [Poorly Drawn Lines](http://poorlydrawnlines.com/comic/spaceship-earth/)

---

# let's go on a journey

---

# [How far is it to Mars?](http://www.distancetomars.com/)

---

# 56 million km

---

56,000,000 km ÷ 300,000 km/s =

# *3 light minutes*

---

# *6 minute latency*

(during the fast part of the year)

---

# at the closest!

---

background-image: url(img/mars-one-announces-100-finalists-vying-to-be-first-people-on-mars-image-2.jpg)

???

Mars One wants to establish a permanent human colony on Mars by 2030

---

background-image: url(img/mars-settler-internet.jpg)

???

Mars One says that, for astronauts on Mars,

> Easy Internet access will be limited to their preferred sites that are constantly updated on the local Mars web server. Other websites will take between 6 and 45 minutes to appear on their screen - first 3-22 minutes for your click to reach Earth, and then another 3-22 minutes for the website data to reach Mars. Contact friends at home is possible by video, voice or text message–e-mail, WhatsApp, sms–but real time dialogue is not possible, because of the time delay.

---

"preferred sites that are constantly updated on the local Mars web server"

---

# does this even qualify as the Internet?

---

background-image: url(img/protesters.jpg)
background-size: cover

???

protesters during the Arab Spring

---

the internet is

# *a discussion*

---

the internet is

# *many-to-many*

---

the internet is

# *controlled by its participants*

---

the internet is

# *a great democratizer*

---

# and if I *can't contribute*

---

# then it *doesn't count*

---

Let's think through it

---

background-image: url(img/patreon-no-share.png)

???

Here's a simple page of text; the sort Mars One might imagine when it says "preferred sites to be updated on local Mars server"

---

background-image: url(img/patreon.png)

???

Except even this page expects interactivity! Is it acceptable to leave Martians out of this sort of discussion?

---

background-image: url(img/pinterest.jpg)

???

At a next level of interactivity, we have social media sites. These are certainly many-to-many! You are expected to contribute. Instagram would not be very "Insta" on Mars!

---

background-image: url(img/slack.jpg)

???

Finally, all the apps that require real-time collaboration would just be totally broken on Mars

---

*meanwhile, in 2017*

# why should we care?

---

Solving the problems of the future will make

* the world better
* money

today

---

background-image: url(img/amazon-data-centers.jpg)

???

Depending on where you've deployed your app and where your customers are, they could experience some significant latencies. Six minutes?

---

background-image: url(img/egyptian-internet-shutdown.jpg)

???

in January 2011, Egypt shut down its whole country's access to the internet

---

background-image: url(img/protesters.jpg)
background-size: cover

???

That brings us back to these folks. Trying to organize for democracy during the Arab Spring.

---

background-image: url(img/san-franciscan-internet-shutdown.jpg)

???

in August 2011, San Francisco shut down the internet

---

background-image: url(img/airplane-mode.png)

---

background-image: url(img/underground-mode.png)

---

offline is not an edge case

(even in a connected world)

---

what then do we do

---

# OFFLINE
# FIRST

---

background-image: url(img/a-list-apart-offline-first.jpg)

???

What it doesn't mean: building your apps assuming that there will be constant fast connectivity, then adding in some graceful handling of inevitable network issues. That's the *graceful degradation* approach. It's analogous to designing for desktop, then trying to add support for mobile after you get complaints.

What Offline First champions is more like Mobile First. Don't treat lack of connectivity as an error state. This is the *progressive enhancement* approach. Assume that your users will be mostly, or at least frequently, offline. Then progressively enhance your app to take advantage of network connectivity when it's available.

---

background-image: url(img/instagram-error.png)

???

Instagram provides a good example of graceful degradation, and a good counter-example to offline first design

---

background-image: url(img/average-page-size-doom.jpg)

???

[The average webpage size now same as original doom](https://www.wired.com/2016/04/average-webpage-now-size-original-doom/)

---

background-image: url(img/is-service-worker-ready.jpg)

???

Part of the solution: [Service Workers](https://jakearchibald.github.io/isserviceworkerready/)

---

background-image: url(img/sw-fetch.png)

???

Service Workers run in the background, intercept calls that the page makes, and can respond with cached content. Image [from Mozilla](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers)

---

background-image: url(img/js-coach-service-worker.jpg)

???

There are already libraries to make it easy to cache all of your generated webpack assets. Just [search js.coach](https://js.coach/webpack/offline-plugin?search=service-worker)!

---

Service Workers

≈

# Progressive Web Apps

---

# hooray for *assets*, what about *data*?

---

* [localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)
* [IndexedDB](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API)

---

background-image: url(img/localForage.jpg)

???

[localForage](https://localforage.github.io/localForage/) makes using localStorage and related tech easier

---

background-image: url(img/egghead-idiomatic-redux-localstorage.jpg)

???

Dan Abramov [teaches](https://egghead.io/courses/building-react-applications-with-idiomatic-redux) an effective and simple way to use localStorage with redux

---

background-image: url(img/abstractions.chadoh.com-screenshot-showing-favorited-talk.jpg)

???

[abstractions.chadoh.com](http://abstractions.chadoh.com/Friday/63) uses Dan Abramov's approach to save user's favorite talks

---

background-image: url(img/PouchDB.jpg)

???

[PouchDB](https://pouchdb.com/) allows you to read and write data directly on the device, and then sync this data to the cloud when you have an internet connection.

---

background-image: url(img/hoodie-js-framework-for-offline-first-apps.jpg)

???

[Hoodie](http://hood.ie/) is a backend for JS apps that makes offline first simple. From Hoodie's FAQ:

> Hoodie core only provides typical backend APIs, for user authentication and data persistence. It does not interact with the DOM at all. It perfectly works with any MV* framework or template engines.

---

## hooray for *one person's local data*, what about *collaboration*?

---

background-color: white
background-image: url(img/client-server-model.svg)

???

Everything we've talked about so far has been constrained by the _client-server model architecture_. Devices can't talk directly to each other, they require the internet to mediate their conversation.

---

background-image: url(img/addicted-to-the-backbone.jpg)

???

Our apps are addicted to the backbone. Developing world. Offline. Natural disasters. Intermittent connections. All trivial compared to interplanetary networking. The networks we're using are so 20th Century. Image from: https://ipfs.io/

---

background-image: url(img/types-of-networks.jpg)

???

Three types of networks: centralized, decentralized, and distributed. Source: On Distributed Communications Networks, Paul Baran, 1962. More info: https://www.oreilly.com/ideas/understanding-the-blockchain

---

*The Distributed Web*:

## where two or more devices are gathered, there the Internet is also

---

Distributed web history:

* 2001: BitTorrent
* 2005: Git
* 2009: Bitcoin

---

background-image: url(img/unstoppable-machine.jpg)

???

BitTorrent created in 2001 and is still alive despite concerted, international, billion dollar efforts to destroy it; the BitTorrent community remains impossible to stop because it is both globally decentralized and continues to deliver value. Learn more: http://www.svds.com/ethereum-the-rise-of-the-world-computer/

---

background-image: url(img/protesters.jpg)
background-size: cover

???

That sounds like a great thing for our protesters organizing for democracy.

---

background-image: url(img/git-data-structure.png)
background-color: white

???

git uses a completely distributed data model

---

background-image: url(img/distributed-consensus.gif)

???

The blockchain allows trustless interactions between peers in a pseudonymous network. Learn more: https://www.youtube.com/watch?v=bBC-nXj3Ng4

---

# let's review where we're at

---

background-image: url(img/ipfs-is-the-distributed-web.jpg)

???

More info: https://ipfs.io

---

"similar to the original aims of the Web, but IPFS is actually more similar to a single bittorrent swarm exchanging git objects"

[github.com/ipfs/ipfs](https://github.com/ipfs/ipfs)

---

# wut

---

"IPFS is a distributed file system that seeks to connect all computing devices with the same system of files."

[github.com/ipfs/ipfs](https://github.com/ipfs/ipfs)

---

"IPFS is becoming a new major subsystem of the internet. If built right, it could complement or replace HTTP. It could complement or replace even more. It sounds crazy. It is crazy."

[github.com/ipfs/ipfs](https://github.com/ipfs/ipfs)

---

# *Content Addressable*

---

class: cramped

h t t p s : / / * t w i t t e r . c o m * / A l s h a h e e e d / s t a t u s / 8 6 0 2 5 7 9 9 8 4 4 6 4 2 8 1 6

???

If all you want is the content of the tweet, you don't really care that it lives on Twitter's servers. Imagine wanting to read a book and needing to go to one specific library, across the country/world, to get it.

---

class: cramped

/ i p f s / * Q m Y w A P J z v 5 C Z s n A 6 2 5 s 3 X f 2 n e m t Y g P p H d W E z 7 9 o j W n P b d G *

???

IPFS, on the other hand, addresses content by a hash unique to that content. You can get it from anyone on the network. You can store it so people near you can quickly retrieve it from your computer.

---

The

(*distributed*|*permanent*)

web

---

## hooray for *distributed files*

---

## what about *distributed data*?

---

background-image: url(img/bigchaindb.jpg)

???

People are working on this, too! It turns out the blockchain is great for storing data.

bigchaindb - a database built on the blockchain. Learn more: https://www.bigchaindb.com/

---

## hooray for *distributed files and data*, what about... *server-side logic*?

---

## hooray for *distributed files and data*, what about ~~server-side~~ *incorruptible* logic?

---

background-image: url(img/ethereum.jpg)

???

ethereum allows creating smart contracts that get run and validated by all machines participating in the blockchain

---

background-image: url(img/democratic-autonomous-organization.jpg)

???

build a democratic autonomous organization.jpg

---

Resources

---

background-image: url(img/juan-benet-stanford-seminar.jpg)

???

Stanford Seminar - IPFS and the Permanent Web: https://www.youtube.com/watch?v=HUVmypx9HGI

---

* http://offlinefirst.org/
* https://www.bigchaindb.com/
* https://ethereum.org/

---

class: small

Summary

* hours-long latencies are the new normal, *design for them*
* *offline first* already makes this possible for single-user workflows
* the *distributed web* is emerging now, and brings fully communicative apps to any edge of the network

Questions?

???

Advice from [@inkel](http://twitter.com/inkel): Don't engage with people that ask a "question" that is in fact a comment or a _I might know better about the subject you're talking about and this is why_. Instead tell them it's a great question and that you can discuss the subject on the hallway track. After all, it's your presentation, not theirs 😉

    </textarea>
    <script src="remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
