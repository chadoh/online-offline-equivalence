<!DOCTYPE html>
<html>
  <head>
    <title>Online/Offline Equivalence: What our interplanetary tomorrow can teach us about building apps today</title>
    <meta charset="utf-8">
    <style>
      em {
        font-style: normal;
        color: #8dbd0c;
      }
      img {
        max-width: 100%;
        max-height: 100%;
      }
      a {
        color: #66AEE2;
      }
      .remark-slide-content {
        background-size: contain;
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
        font-size: calc(.85em + 3vw);
        padding: 1rem 4rem;
      }
      .remark-slide-content h1 {
        font-size: 2em;
      }
      .remark-slide-content h2 {
        font-size: 1.5em;
      }
      .remark-slide-number {
        font-size: 0.3em;
        display: none;
      }
      @media screen {
        body, body.remark-container {
          background: black;
          color: white;
        }
        .remark-slide-content {
          background-color: black;
        }
        .remark-slide-scaler {
          -moz-box-shadow: none;
          -webkit-box-shadow: none;
          box-shadow: none;
        }
      }
    </style>
  </head>
  <body>
    <textarea id="source" style="display:none">

class: middle

# *Online/Offline Equivalence*

What our interplanetary tomorrow can teach us about building apps today

---

background-image: url(img/instantaneous-communication.png)

???

We live in a special time! Whole-species instantaneous communication is a short-lived phenomenon for a technological civilization of sufficient longevity.

---

# me

---

# Chad Ostrowski

---

background-image: url(img/YouAreHereInTheGalaxy.jpg)

???

I live in the Orion arm of the Milky Way galaxy

---

background-image: url(img/earth_pacific_lrg.jpg)
background-size: cover

???

more specifically, I live on a water planet called Earth

---

background-image: url(img/eastern-seaboard.jpg)
background-size: cover

???

I live in a city called Lancaster

---

background-image: url(img/entire.life.jpg)

???

I make Entire.Life: plan, remember, live a meaningful life

---

background-image: url(img/citrusbyte.png)

???

I work at citrusbyte: innovate like a startup, even if you aren't one. We're hiring!

---

class: middle

* twitter.com/chadoh
* github.com/chadoh
* entire.life/chadoh
* medium.com/@chadoh

---

background-image: url(img/cosmic-algae.png)

???

Disclaimer: I am cosmic algae. I am not an expert, I am learning with you. Correct me if you notice mistakes!

Comic from [Poorly Drawn Lines](http://poorlydrawnlines.com/comic/spaceship-earth/)

---

# let's go on a journey

---

# [How far is it to Mars?](http://www.distancetomars.com/)

---

# 56 million km

---

56,000,000 km ÷ 300,000 km/s =

# *3 light minutes*

---

# *6 minute latency*

(during the fast part of the year)

---

# at the closest!

---

background-image: url(img/mars-one-announces-100-finalists-vying-to-be-first-people-on-mars-image-2.jpg)

???

Mars One wants to establish a permanent human colony on Mars by 2030

---

background-image: url(img/mars-settler-internet.jpg)

???

Mars One says that, for astronauts on Mars,

> Easy Internet access will be limited to their preferred sites that are constantly updated on the local Mars web server. Other websites will take between 6 and 45 minutes to appear on their screen - first 3-22 minutes for your click to reach Earth, and then another 3-22 minutes for the website data to reach Mars. Contact friends at home is possible by video, voice or text message–e-mail, WhatsApp, sms–but real time dialogue is not possible, because of the time delay.

---

"preferred sites that are constantly updated on the local Mars web server"

---

# does this even qualify as the Internet?

---

background-image: url(img/protesters.jpg)
background-size: cover

???

protesters during the Arab Spring

---

the internet is

# *a discussion*

---

the internet is

# *many-to-many*

---

the internet is

# *controlled by its participants*

---

the internet is

# *a great democratizer*

---

# and if I *can't contribute*

---

# then it *doesn't count*

---

Let's think through it

---

background-image: url(img/patreon.png)

???

A barely-interactive page: one heart button to click in the bottom right. Requires a round-trip to the server before it shows up in red after a click.

---

background-image: url(img/spacex-instagram.jpg)

???

Instagram would not be very "insta" when sharing photos with your fellow Martians

---

background-image: url(img/google-docs.png)

???

Real-time collaboration on Mars would just be totally broken

---

background-image: url(img/slack.jpg)

???

Apps like Slack that require a websocket would totally fail

---

meanwhile, in 2017

---

background-image: url(img/amazon-data-centers.jpg)

???

Depending on where you've deployed your app and where your customers are, they could experience some significant latencies. Six minutes?

---

background-image: url(img/egyptian-internet-shutdown.jpg)

???

in January 2011, Egypt shut down its whole country's access to the internet

---

background-image: url(img/protesters.jpg)
background-size: cover

???

That brings us back to these folks. Trying to organize for democracy during the Arab Spring.

---

background-image: url(img/san-franciscan-internet-shutdown.jpg)

???

in August 2011, San Francisco shut down the internet

---

background-image: url(img/airplane-mode.png)

---

background-image: url(img/underground-mode.png)

---

offline is not an edge case

(even in a connected world)

---

what then do we do

---

# OFFLINE
# FIRST

---

background-image: url(img/a-list-apart-offline-first.jpg)

???

What it doesn't mean: building your apps assuming that there will be constant fast connectivity, then adding in some graceful handling of inevitable network issues. That's the *graceful degradation* approach. It's analogous to designing for desktop, then trying to add support for mobile after you get complaints.

What Offline First champions is more like Mobile First. Don't treat lack of connectivity as an error state. This is the *progressive enhancement* approach. Assume that your users will be mostly, or at least frequently, offline. Then progressively enhance your app to take advantage of network connectivity when it's available.

---

background-image: url(img/instagram-error.png)

???

Instagram provides a good example of graceful degradation, and a good counter-example to offline first design

---

background-image: url(img/average-page-size-doom.jpg)

???

[The average webpage size now same as original doom](https://www.wired.com/2016/04/average-webpage-now-size-original-doom/)

---

background-image: url(img/is-service-worker-ready.jpg)

???

Part of the solution: [Service Workers](https://jakearchibald.github.io/isserviceworkerready/)

---

background-image: url(img/sw-fetch.png)

???

Service Workers run in the background, intercept calls that the page makes, and can respond with cached content. Image [from Mozilla](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers)

---

background-image: url(img/js-coach-service-worker.jpg)

???

There are already libraries to make it easy to cache all of your generated webpack assets. Just [search js.coach](https://js.coach/webpack/offline-plugin?search=service-worker)!

---

Service Workers

≈

# Progressive Web Apps

---

# hooray for *assets*, what about *data*?

---

* [localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)
* [IndexedDB](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API)

---

background-image: url(img/localForage.jpg)

???

[localForage](https://localforage.github.io/localForage/) makes using localStorage and related tech easier

---

background-image: url(img/egghead-idiomatic-redux-localstorage.jpg)

???

Dan Abramov [teaches](https://egghead.io/courses/building-react-applications-with-idiomatic-redux) an effective and simple way to use localStorage with redux

---

background-image: url(img/abstractions.chadoh.com-screenshot-showing-favorited-talk.jpg)

???

[abstractions.chadoh.com](http://abstractions.chadoh.com/Friday/63) uses Dan Abramov's approach to save user's favorite talks

---

background-image: url(img/PouchDB.jpg)

???

[PouchDB](https://pouchdb.com/) allows you to read and write data directly on the device, and then sync this data to the cloud when you have an internet connection.

---

background-image: url(img/hoodie-js-framework-for-offline-first-apps.jpg)

???

[Hoodie](http://hood.ie/) is a backend for JS apps that makes offline first simple. From Hoodie's FAQ:

> Hoodie core only provides typical backend APIs, for user authentication and data persistence. It does not interact with the DOM at all. It perfectly works with any MV* framework or template engines.

---

## hooray for *one person's local data*, what about *collaboration*?

---

![the client-server architecture](https://d17oy1vhnax1f7.cloudfront.net/items/3l3g1P2Y0B2g0w0j0u3k/clientServer.gif?v=d39711bb)

---

[![Our apps are addicted to the backbone. Developing world. Offline. Natural disasters. Intermittent connections. All trivial compared to interplanetary networking. The networks we're using are so 20th Century.](https://draftin.com:443/images/47839?token=yoX49JyZyyYq1ts0VXD9aPxJNY5_SWCjigL_CNjEjUPPjTU8tV2EhEL1xc4qGPK9Abhx-6GeKTzAt8d66IvzTPo)](https://ipfs.io/)

---

[![three types of networks: centralized, decentralized, and distributed](https://d3ansictanv2wj.cloudfront.net/paul_baran_1962_distributed-80dc7f722a344d6d84556e990ff16018.jpg)](https://www.oreilly.com/ideas/understanding-the-blockchain)

---

*The Distributed Web:* where two or more devices are gathered, there the Internet is

---

Distributed web history:

* 2001: BitTorrent
* 2005: Git
* 2009: Bitcoin

---

[![BitTorrent created in 2001 and is still alive despite concerted, international, billion dollar efforts to destroy it; the BitTorrent community remains impossible to stop because it is both globally decentralized and continues to deliver value](https://draftin.com:443/images/47840?token=-coMiNfmqGlvvwwrPm-YtNMUZhfNFJ3G34P6D9y6VUKddgcHAJbcjcnzBfC2tVhumlDx_oI8ooUszk4W3_7_4dg)](http://www.svds.com/ethereum-the-rise-of-the-world-computer/)

---

![picture of protesters during the Arab Spring](https://draftin.com:443/images/47826?token=XDqirzU4XWrtv2EN9AAVyirn86r4ItICnwnV9L3ncrGGPT2uMxEhVIl099X55YcUfeFgVhuwYxv8XvjrHJbjNgc)

---

![git is completely distributed](http://bishoy.com.au/wp-content/uploads/2015/11/git-tutorial-basics-clone-repotorepocollaboration.png)

---

[![how the blockchain allows trustless interactions between peers in a pseudonymous network](https://blogs.thomsonreuters.com/answerson/wp-content/uploads/sites/3/2016/01/infographic-how-blockchain-works.jpg)](https://blogs.thomsonreuters.com/answerson/blockchain-technology/)

---

let's review where we're at

---

[![IPFS is the distributed web](https://draftin.com:443/images/47841?token=S7ylZ6nN7dX-8z_b40cu1Gbrp1axJtC4wFWe9TsxxrW923PaVlQf8W0iErU21iiRcy-ivt8ba99-dzQlrtKROps)](https://ipfs.io/)

---

## "similar to the original aims of the Web, but IPFS is actually more similar to a single bittorrent swarm exchanging git objects"

[github.com/ipfs/ipfs](https://github.com/ipfs/ipfs)

---

wut

---

## "IPFS is a distributed file system that seeks to connect all computing devices with the same system of files."

[github.com/ipfs/ipfs](https://github.com/ipfs/ipfs)

---

## "IPFS is becoming a new major subsystem of the internet. If built right, it could complement or replace HTTP. It could complement or replace even more. It sounds crazy. It is crazy."

[github.com/ipfs/ipfs](https://github.com/ipfs/ipfs)

---

*Content Addressable*

---

https://*twitter.com*/Alshaheeed/status/86025799844642816

<!--
If all you want is the content of the tweet, you don't really care that it lives on Twitter's servers. Imagine wanting to read a book and needing to go to one specific library, across the country/world, to get it.
-->

---

/ipfs/QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG

<!--
IPFS, on the other hand, addresses content by a hash unique to that content. You can get it from anyone on the network. You can store it so people near you can quickly retrieve it from your computer.
-->

---

The

(*distributed*|*permanent*)

web

---

hooray for *distributed files*

---

what about *distributed data*?

---

[![bigchaindb - a database built on the blockchain](https://draftin.com:443/images/47842?token=N6y0f83SAYvcn5a8n4KbC0rXTzyEcclGNtfzFhhuyDssWkRymCRrIb1sTaG07DNnPKfWlY7Ce_pg4wU68VYrz6M)](https://www.bigchaindb.com/)

<!--
People are working on this, too! It turns out the blockchain is great for storing data.
-->

---

hooray for *distributed files and data*, what about... *server-side logic*?

---

hooray for *distributed files and data*, what about ~~server-side~~*incorruptible* logic?

---

![ethereum allows creating smart contracts that get run and validated by all machines participating in the blockchain.jpg](https://draftin.com:443/images/47846?token=8XIkJHNf9sElcpMncu2iygqk4_cbd0a963bDWqDrnj88OHvqoGbdseZ3kKmkLKgQwdYDHvG9Oxg02SWxjrCRq6o)

---

![build a democratic autonomous organization.jpg](https://draftin.com:443/images/47847?token=aI5uv3jbCjoCFHwhFpQwkkX-71qy07_WTdL3yvnyJKwcJUo-VHj-QDp1I5HW_-9LFyjGKNVOK0PUG8fy1QSBXY4)

---

Resources

---

[![Stanford Seminar - IPFS and the Permanent Web](https://draftin.com:443/images/47848?token=TU3Ye_Ehx51NnYjS22a15HV9W6qYX-m7QWcO79O0CWF_8kxxTabzJATmc8hCFAlcuF-1P9rPMCzVGO9k7hRESPo)
](https://www.youtube.com/watch?v=HUVmypx9HGI)

---

* http://offlinefirst.org/
* https://www.bigchaindb.com/
* https://ethereum.org/

---

Summary

* hours-long latencies are the new normal, *design for them*
* *offline first* already makes this possible for single-user workflows
* the *distributed web* is emerging now, and brings fully communicative apps to any edge of the network

Questions?

    </textarea>
    <script src="remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
